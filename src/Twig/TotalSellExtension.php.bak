<?php


namespace App\Twig;

use Twig\TwigFilter;
use Twig\Extension\AbstractExtension;
use Doctrine\ORM\EntityManagerInterface;


// class TotalSellExtension extends AbstractExtension
// {
//     public function getFilters()
//     {
//         return [
//             new TwigFilter('totalSell', [$this, 'totalSell']),
//         ];
//     }

//     public function totalSell(string $token, EntityManagerInterface $em)
//     {
       
//         // Calcul total of sell for specific token
//         $totalSell = 0;
//         //  use entity manager to get all sell for specific token
//         $trades = $em->getRepository(Trade::class)->findBy(['token' => $token, 'action' => 'sell']);
//         //  loop through all trades and add amount to totalSell
//         foreach ($trades as $trade) {
//             $totalSell += $trade->getAmount();
//         }
//          return $totalSell;
//     }

// }